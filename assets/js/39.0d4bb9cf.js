(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{616:function(r,e,t){"use strict";t.r(e);var o=t(7),i=Object(o.a)({},(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h3",{attrs:{id:"async-defer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#async-defer"}},[r._v("#")]),r._v(" async & defer")]),r._v(" "),t("ul",[t("li",[t("p",[r._v("async\n一旦下载完，渲染引擎就会中断渲染，执行这个脚本以后，再继续渲染。"),t("br"),r._v("\n不能保证加载顺序。")])]),r._v(" "),t("li",[t("p",[r._v("defer\ndefer要等到整个页面在内存中正常渲染结束（DOM 结构完全生成，以及其他脚本执行完成），才会执行。"),t("br"),r._v("\n当type = module 相当于使用defer属性。")])]),r._v(" "),t("li",[t("p",[r._v("注意")]),r._v(" "),t("ul",[t("li",[r._v("代码是在模块作用域之中运行，而不是在全局作用域运行。模块内部的顶层变量，外部不可见。"),t("br")]),r._v(" "),t("li",[r._v("模块脚本自动采用严格模式，不管有没有声明use strict。"),t("br")]),r._v(" "),t("li",[r._v("模块之中，可以使用import命令加载其他模块（.js后缀不可省略，需要提供绝对 URL 或相对 URL），也可以使用export命令输出对外接口。"),t("br")]),r._v(" "),t("li",[r._v("模块之中，顶层的this关键字返回undefined，而不是指向window。也就是说，在模块顶层使用this关键字，是无意义的。"),t("br")]),r._v(" "),t("li",[r._v("同一个模块如果加载多次，将只执行一次。")])])])]),r._v(" "),t("h3",{attrs:{id:"es6-commonjs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es6-commonjs"}},[r._v("#")]),r._v(" ES6 & CommonJS")]),r._v(" "),t("ul",[t("li",[t("p",[r._v("CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。"),t("br")])]),r._v(" "),t("li",[t("p",[r._v("CommonJS 模块是运行时加载，ES6 模块是编译时输出接口。"),t("br")])]),r._v(" "),t("li",[t("p",[r._v("CommonJS 模块的require()是同步加载模块，ES6 模块的import命令是异步加载，有一个独立的模块依赖的解析阶段。")])]),r._v(" "),t("li",[t("p",[r._v("注释")]),r._v(" "),t("ol",[t("li",[r._v("CommonJS 模块输出的是值的拷贝，也就是说，一旦输出一个值，模块内部的变化就影响不到这个值。"),t("br")]),r._v(" "),t("li",[r._v("因为 CommonJS 加载的是一个对象（即module.exports属性），该对象只有在脚本运行完才会生成。而 ES6 模块不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成。")]),r._v(" "),t("li",[r._v("JS 引擎对脚本静态分析的时候，遇到模块加载命令import，就会生成一个只读引用。等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值。换句话说，ES6 的import有点像 Unix 系统的“符号连接”，原始值变了，import加载的值也会跟着变。因此，ES6 模块是动态引用，并且不会缓存值，模块里面的变量绑定其所在的模块。")])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);